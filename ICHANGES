Internal Changes
****************

GeneWeb Version 1.10
--------------------

* General
  - [16/12/98] Separated "base" into "base_data" and "base_func" to prepare
    code cleanup.
  - [16/12/98] Translated some program record fields and constructors in
    english.

* GeneWeb daemon/CGI (gwd)
  - [18/12/98] Changed some HTML generated in relationship links (one branch)
    to work also with the Linux browser "lynx".
  - [15/12/98] Added forgotten i18n translation of "liens de parenté" (title)
    and added "head_no_page_title" in util's interface.
  - [14/12/98] Improved speed in families update: check_noloop made too
    many accesses to the base (unnecessary accesses to "persons").
  - [11/12/98] Fixed bugs: newlines at end of fields displayed as newlines
    by "gwu", resulting of future syntax errors in "gwc"

* GeneWeb uncompiler (gwu)
  - [11/12/98..12/12/98] Improved program (diminution of number of accesses
    to the base) to allow option "-mem"

* Input base
  - [12/12/98] Fixed horrible programming of base patches applying, which
    resulted in much memory allocation and time loosing for bases having many
    added "things" (persons, families, strings). Now the code is cleaner.
    Consequence: saved speed and memory allocation in such bases in gwd,
    gwu, gwb2ged.

* tools/camlp4_depend.sh
  - [13/12/98] Deleted "./" in depended file name, because that worked bad
    in alpha.

* src/num.ml
  - [13/12/98] Display at least "0" when number is 0!

GeneWeb Version 1.09
--------------------

* gwc:
  - Added lazy building of topological sort file inside bases (accelerate
    Sosa number computing in personal pages and relationship links).
  - Send error and warning messages on stdout, instead of stderr.
  - Delete non printable characters (e.g. newlines) in strings (first names,
    etc.) coming from forms.
  - Fixed some displaying and behavior bugs when adding elements in merging
    forms.
  - Fixed some displayed "value=" when the value hold the " character
  - Some parts of relationship computing use big nums (module Num). Still
    incomplete.
  - Change in request syntax "relation... with..." to allow
    explicit first names and surnames instead of i=.
    Ex:
     old syntax (still there for compatibility during some versions)
       base?e=m%3DR%3Bi%3D31440&m=NG&n=somebody&t=PN
     new syntax:
       base?em=R;ei=31440&m=NG&n=somebody&t=PN
     and ability to write in a direct link:
       base?em=R;ep=jack;en=nicholson;eoc=3&m=NG&n=somebody&t=PN
     to be somewhat independant from the index of "jack nicholson" in
     the base.
  - Hidden options in requests:
       ";opt=from" in personal pages, gives the .gw origin file (if any)
       ";opt=misc" in personal pages, gives the list of miscellaneous names
  - More complete traces in CGI mode

* ged2gwb:
  - Display message "Strange input" giving the line number instead of character
    number.

* added tools/camlp4_depend.sh to compute dependencies with camlp4 .cmo files
  in src directory.

* added program "mostdesc" (not distributed in executable versions) computing
  the "most descendants from someone".

* changed "pauillac" into "cristal" in addresses.

GeneWeb Version 1.08
--------------------

* gwc:
  - Changed HTML generated by "last 10 births".
  - strip possible newlines in sources and comments while updating or
    creating families
  - small change in warning message telling that children has been reordered:
    "before" persons are no more clickable
  - forgot to reset some fields when a person is deleted

GeneWeb Version 1.07
--------------------

* Documented structure of bases (file iobase.ml).
* ANSEL encoding in base

* gwc:
   - Fixed bug: hash table now with "crush_lower" names, not "strip_lower"
     because error while compiling base with names "Marie d'Orange" and
     "Marie Dorange", different in "gwd" but equal (beforewards) in "gwc".
   - Fixed bug: while decoding strings fields, forgot to skip the possible
     space (underscored).
   - A file "command.txt" is created into the base, showing the command
     line used like for the command "ged2gwb".

* gwd:
  - Don't display person number any more in update form when holding ? in
    his/her surname or first name
  - Fixed bug: when updating person, checks were done before patch.
  - Strip spaces of first names and surnames in forms.

* consang:
  - fixed bug: raised error for empty databases

* ged2gwb
  - not error if no space after initial number

GeneWeb Version 1.06
--------------------

* Restructuration (perestroika) for distribution of sources.

* Some changes for compilation with version 2.00 of Ocaml and Camlp4.

* gwd:
  - added cannot change sex of married person while updating person,
    this check was missing
  - changed Name.crush to separate case "roman numbers" and "i" is now
    treated as other vowels
  - changed "(%d fois)" into "(%d)" in "descendants, only the selected
    generation".
  - updateInd.ml: display number = index for first name or surname = "?"

* gwu:
  - fixed bug of behavior: created files even if not option -odir

* lexicon.txt:
  - integrated Lars' updates for swedish version... in fact integrated in
    "intermediate" version 1.05.

GeneWeb Version 1.05
--------------------

* gwc:
  - added "wrap=virtual" in notes updating.
  - added 1 generation in missing ancestors (because if a level complete =>
    nothing printed!)
  - fixed "Chantal.1 N..." did not work because of searching . from the right
  - generated images have now "content-length" (necessary for Netscape 2)
  - srcfile.ml: accept now [] in txt files => translation!
  - p.birth is now of type Adef.codate
  - suppressed nobr in descend.ml
  - suppressed <ul></ul> with no <li> in descend.ml
  - fixed bug: when creating or modifying someone, the test of existing was
    firstname1 ^ surname1 = firstname2 ^ surname2 instead of
    firstname1 = firstname2 && surname1 = surname2
  - Soza -> Sosa

GeneWeb Version 1.04
--------------------

* gwc:
  - added magic number in gwo files.
  - in case of option error, does not display usage, just invitation to
    use the -help option

* gwd:
  - fixed bug in relation: if same person, was not detected.
  - using new pa_html.cmo
  - added option "-nolock" not to create lock files; drawback: risk of
    scratching counter (not grave), or the database, if two users attempt
    to modify it at the same time; this option were only in Unix version,
    it is now added in Windows version too.
  - in research by names, "s" ending words are ignored
  - when refusing a log (fucking robots!), return status 403 and a small
    message; logs in "refuse_log".
  - added option -robot_xcl to test fast attacks.
  - fixed bug descend "only the generation concerned": persons descending
    several time were not factorized.

* gwd, consang:
  - in Windows NT/95, locking files never blocks: the action is just
    refused =>
    * when updating the base, if the base cannot be locked, the update is
      rejected.
    * when applying "consang", if the base cannot be locked, "consang" is
      rejected.
    * if the counter file cannot be locked, the counter is just not updated.

* gwc, gwu:
  - added "csrc" to factorize "#src" when all children have the same

GeneWeb Version 1.03
--------------------

* gwd:
  - ascend.ml & relation.ml: print upto faster thanks to maxlen added (l=...)
  - capitalization of all letters with accents is now ok
  - added "gwd.xcl" to exclude connexions

* Makefiles:
  - add and use of tools/camlp4_comm.sh

GeneWeb Version 1.02
--------------------

* gwd
  - lower threshold for optimized relationship link from 25 to 15.

* gwc
  - in photos => recode underscores (transformed into spaces!).
  - Can now wait for 4 clients in the queue (listen 4).

GeneWeb Version 1.01
--------------------

* gwd
  - saw that sometimes "accept" fails for other reasons than timeout => no
    more message now in the trace.

GeneWeb Version 1.0
-------------------

GeneWeb Version 1.0 beta.10
---------------------------

GeneWeb Version 1.0 beta.9
--------------------------

* gwd
  - added possible sleep in env to test memory consummation
  - changed algorithm of last n births: was o(n^2), now o(n*log n)

GeneWeb Version 1.0 beta.8
--------------------------

* gwd
  - fixed problem of Maertens: "Cannot access to start.txt", although
    it was a problem of accessing "copyright.txt"
  - "%f" in language files (used in version.txt) do not generate just
    "command", but "command?" if not cgi and "command?b=base;" if cgi

GeneWeb Version 1.0 beta.7
--------------------------

- changed big num (e.g. for Soza numbers) => no limit
- HTTP protocol: always return status 202 OK, even on errors
- lang/lexicon.txt: nth generation go up to 125 (fr)
- ged2gwb: if surname or first name of someone = "?", may transform it
  into "x" (to preserve consistency between gwb2gw and gwc)
- fixed problem of alphabetic order in displaying by titles
- trailer always included even in source files, which must not yet hold
  </body> at their end.
- copyright added at end if file "copyright.txt" not accessible but
  without link to my site.
- file "copyright.txt" changed into "copyr.txt" (I am afraid of problems
  of long file names in Windows).
- fixed bug: problems of <em> and </a> in displaying "ancestors .. up to .."
