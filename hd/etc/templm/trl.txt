<!-- $Id: trl.txt,v 7.00 2015/02/12 22:06:44 mr Exp $ -->
%import;js_perso_accesskey

%define;lang(xx)
  %apply;nth%with;
    /af/bg/br/ca/cs/da/de/en/eo/es/et/fi/fr/he/is/it/lv/nl/no/oc/pl/pt/pt-br/ro/ru/sk/sl/sv/zh/
  %and;xx%end;
%end;
%define;link_lang()
  %for;i;1;30;
    %let;l1;%apply;lang(i)%in;
     <a href="%prefix_base;templ=%evar.templ;;lang=%l1;;%suffix;" title="%apply;language_name(l1)">
     %if;(bvar.hideflag != "yes")
     <img src="%image_prefix;/flags/l-%l1;.jpg" width="20" height="11" alt="" id="i%tt;" style="border:0"%/> %end;%l1; %apply;language_name(l1)</a>
  %end;
%end;
%let;lg;
  %if;(evar.lang != "")%evar.lang;
  %elseif;(bvar.default_lang != "")%bvar.default_lang;
  %else;en%end;
%in;

%if;(not cancel_links and evar.m != "MOD_DATA_OK" and evar.m != "DEL_IND_OK" and evar.m != "DEL_FAM_OK" and evar.templ = "templm")
  <div class="menu3" id="menu_trl">
    %if;(evar.n != "" or evar.i != "" or evar.ip !="")
    <form style="display:inline" id="ak" method="get" action="">
      <span>%if;(referer != "")
            <span><a href="%referer;" alt="[*back]" title="[*back]%nl;%nl;[*select] %nl;%lg %apply;language_name(lg)">‚á¶</a></span>
            %elseif;(bvar.hideflag != "yes")<img src="%image_prefix;/flags/l-%lg;.jpg" width="32" height="24" alt="flag" title="%lg; %apply;language_name(lg)"/>%else;<a href="#">%lg;</a>%end;
         <span class="s_menu" id="lang">%apply;link_lang()</span>
      </span>
      <span><input id="acckey" name="acckey" %laZ; maxlength="1" %if;(evar.m!="A")autofocus="on"%end; placeholder=""
       onkeypress="javascript:return acc_key(this,event,'sib_1','spo_1','chi_1_1','mod_ind','add_par','add_fam','mod_fam_1');"/>
        <span class="s_menu">
          <h4>[*shortcuts] (Alt+%laZk;)</h4>
          <p>%if;(evar.m = "MOD_IND")
            Alt+%lpc1k; [first name/first names]0<br%/>
            Alt+%lpc2k; [birth]<br%/>
            Alt+%lpc3k; [death]<br%/>
            Alt+%lpc4k; [add] [event/events]0<br%/>
            Alt+%lpc5k; [note/notes]1<br%/>
            Alt+%lpc6k; [relation/relations]1<br%/>
            Alt+%lpc7k; [title/titles]1<br%/>
            Alt+%lpcPk; [occupation/occupations]0<br%/><br%/>
            %elseif;(evar.m ="MOD_FAM" or evar.m ="ADD_FAM")
            Alt+%lfc1k; [first name/first names]0 [father/mother]0<br%/>
            Alt+%lfc2k; [add] [child/children]0<br%/>
            Alt+%lfc3k; [date of marriage]/[relation/relations]0<br%/>
            Alt+%lfc4k; [add] [event/events]0<br%/>
            Alt+%lfc5k; [marriage notes]<br%/>
            Alt+%lfc6k; [source/sources]1<br%/><br%/>
            %else;
            (0) [spouse/spouses]1<br%/>
            (1) [siblings]<br%/>
            (2 3 4 5 6 7) [n¬∞ Sosa] [ancestors]<br%/>
            (8) [child/children]1<br%/>
            (9) [child/children]1 Sosa<br%/>
            (%laDk;) [difference between the two revisions]<br%/>
            (%laRk;) [relationship computing]<br%/>
            (%laSk;) [navigation with %t as Sosa reference:::xx]<br%/>
            (%laXk;) [generation/generations]0<br%/>
            (%laYk;) [tree]<br%/><br%/>
              %if;wizard;
              (%laAk;) [add::family/families]0<br%/>
              (%laFk;) [modify::family/families]0 1<br%/>
              (%laGk;) [modify::family/families]0 2<br%/>
              (%laHk;) [modify::family/families]0 3<br%/>
              (%laIk;) [send::image/images]0<br%/>
              (%laLk;) [add::parents]<br%/>
              (%laPk;) [modify::person/persons]0<br%/>
              (%laUk;) [update]<br%/><br%/>
              %end;
            %end;
            (%laWk;) [search/case sensitive]0<br%/>
          </p>
        </span>
      </span>
    </form>
    %end;
    <span>
    <form method="get" action="%action;" onsubmit="return oS3();">
           %hidden;
           %if;(evar.m != "A")<input id="mS" type="hidden" name="m" value="S"/>%end;
           %if;(evar.t = "T")<input id="tT" type="hidden" name="t" value="T"/>
           <input id="v" type="hidden" name="v" value="%evar.v"/>%end;
           %if;(evar.m = "A")<input id="mA" type="hidden" name="m" value="A"/>%end;
           <input type="search" id="mSn" name="n" accesskey="%laWk;" size="34" maxlength="200" autofocus="on" 
             title="[*search/case sensitive]0 (W)%nl;%nl;* = [starting with]%nl;%nl;
                    (*+/-) [search/case sensitive]0 [with] [n¬∞ Sosa][:]%nl;
                    (*) [father/mother]0 (√ó2)%nl;
                    (+) [father/mother]1 (√ó2+1)%nl;
                    (/) [child/children]0 [Sosa] (div)%nl;
                    (-) %apply;a_of_b%with;[spouse/spouses]0%and;[child/children]0 [Sosa] (div+1)%end;%nl;
                    (/+) or (*-) [spouse/spouses]0%nl;
                    √ó¬†¬†¬†¬†¬†¬†+%nl;
                    ¬†¬†\¬†¬†¬†/%nl;
                    ¬†¬†¬†¬†n¬∞¬†¬†¬†¬†¬†√∑+¬†= √ó-%nl;
                    ¬†¬†¬†¬†¬†¬†\¬†¬†¬†/%nl;
                    ¬†¬†¬†¬†¬†¬†¬†¬†√∑ ¬†¬†¬†¬†¬†- = √∑√∑+%nl;
                    ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†\¬†¬†¬†/%nl;"
%(
‚ïê‚ï¶‚ïê‚ïê‚ïê‚ïê‚ï¶‚ïê‚ïê‚ïê‚ïê‚ï¶‚ïê‚ïê‚ïê‚ïê‚ïó
¬†‚ïë¬†/¬†¬†‚ïë¬†*¬†¬†‚ïë¬†-¬†¬†‚ïë
¬†‚ïë¬†¬†√∑2‚ïë¬†¬†√ó2‚ïë√∑2+1‚ïë
‚ïê‚ï©‚ïê‚ïê‚ïê‚ïê‚ï©‚ïê‚ïê‚ïê‚ïê‚ï¨‚ïê‚ïê‚ïê‚ïê‚ï£
¬†¬†¬†8*¬†¬†¬†+9¬†‚ïë¬†+¬†¬†‚ïë
¬†¬†¬†¬†¬†¬†4¬†¬†¬†¬†‚ïë√ó2+1‚ïë
¬†¬†¬†2/¬†¬†¬†-3¬†‚ïë¬†¬†¬†¬†‚ïë%)
             placeholder="[surname/surnames]0*%if;(evar.t != "T"), [public name], [alias], n¬∞¬†Sosa%end;"
             onfocus="%evar.n;%if;(evar.m = "S" and evar.n != "")%evar.n;%end;"
             onkeypress="javascript:return computeSosa(event,'mSn')"
           %/><input type="search" id="mSp" name="p" size="17" maxlength="200"
             placeholder="[first name/first names]0*, n¬∞¬†index"
             title="* = [starting with]"
           %/><input id="hide_ie" hidefocus="true" tabindex="-1" type="submit" value="Ok" title="[*search/case sensitive]0 (W)"/>
    </form>
    </span>
    %if;(bvar.hide_advanced_request != "yes")
      <span>
      <a href="%prefix;m=H;v=advanced" title="[*advanced request]">üîç</a>
      </span>
    %end;
    <span><a href="%prefix;" title="%if;(evar.n != "" or evar.i != "")[*home]%nl;%nl;%end[*select]%nl;%if;(evar.templ != "")%evar.templ;%else;templ%end;">%if;(evar.n != "" or evar.i != "")‚áß%else;templ%end;</a>
      %if;(evar.digest = "")
        <span class="s_menu" id="tpl">
          <a href="%prefix_no_templ;templ=;%suffix;">default</a>
          <a href="%prefix_no_templ;templ=templ502;%suffix;">templ502</a>
          <a href="%prefix_no_templ;templ=templa;%suffix;">templa</a>
          <a href="%prefix_no_templ;templ=templb;%suffix;">templb</a>
          <a href="%prefix_no_templ;templ=templc;%suffix;">templc</a>
          <a href="%prefix_no_templ;templ=templd;%suffix;">templd</a>
          <a href="%prefix_no_templ;templ=templf;%suffix;">templf</a>
          <a href="%prefix_no_templ;templ=templh;%suffix;">templh</a>
          %( <a href="%prefix_no_templ;templ=templ_cpl;%suffix;">templm_cpl</a> %)
          <a href="%prefix_no_templ;templ=templm;%suffix;">templm</a>
          %if;(wizard or bvar.wizard_passwd = "")
            <small><sup><strong><a href="%prefix;m=H;v=doc_templm">doc templm</a></strong></sup></small>
          %end;
        </span>
      %end;
    </span>
  </div>
  %if;(evar.em = "R" and (evar.et = "A" or evar.et = "M") and evar.select = "")
    <div class="menu">
      <span>
        <a href="%prefix;em=R;et=%evar.et;;i=%evar.ei;;ei=%evar.i;;image=%evar.image;;spouse=%evar.spouse;">[*relationship] B &harr; A</a>
        %if;(evar.et = "A")
          <a href="%prefix;em=R;et=M;i=%evar.i;;ei=%evar.ei;;image=%evar.image;;spouse=%evar.spouse;"
          >[*relationship by marriage]</a>
        %else;
          <a href="%prefix;em=R;et=A;i=%evar.i;;ei=%evar.ei;;image=%evar.image;;spouse=%evar.spouse;"
          >[*relationship link/relationship links]1</a>
        %end;
      </span>
    </div>
  %end;
  <div id="trl"/>
  %if;(wizard)
    <script type="text/javascript">
    <!--
    function reloadClose()
    {
      window.opener.location.reload();
      parent.close();
    }
    var htmlTitle = document.title;
    if
    (
      htmlTitle == "[*person modified]" ||
      htmlTitle == "[*family modified]" ||
      htmlTitle == "[*person added]" ||
      htmlTitle == "[*family added]"
    )
    {
      if (window.opener && !window.opener.closed) 
      {
        document.getElementById("menu_trl").innerHTML = "";
        document.getElementById("trl").innerHTML = "<a id=\"reloadclose\" href=\"javascript:reloadClose()\">[X]</a>";
        document.getElementById("reloadclose").focus();
      }
    }
    -->
    </script>
  %end;
%end;