%doctype;
<html>
<head>
  <!-- $Id: anclist.txt,v 1.37 2005-06-14 11:30:23 ddr Exp $ -->
  <!-- Copyright (c) 1998-2005 INRIA -->
  <title>%nn;
    %apply;a_of_b%with;
      %if;(evar.t = "M")[*missing ancestors]%else;[*ancestors]%end;
    %and;
      %if;(public_name != "")%public_name;%else;%first_name;%end;
      %if;(qualifier != "") %qualifier;%end;
      %sp;%surname;
    %end;
  </title>
  <meta name="ROBOTS" content="NONE"%/>
  <meta http-equiv="Content-Type" content="text/html; charset=%charset;"%/>
  <meta http-equiv="Content-Style-Type" content="text/css"%/>
  <style type="text/css"><!--
    .highlight { color: %highlight;; font-weight: bold }
    hr { border: 0; margin: 0; border-bottom: 1px solid }
    a.date { text-decoration: none; color: black }
  --></style>
%base_header;
</head>
<body%body_prop;>
%message_to_wizard;

<h1 style="text-align:center" class="highlight">%nn;
  %apply;a_of_b%with;[*ancestors]%and;
    %if;(public_name != "")%public_name;%else;%first_name;%end;
    %if;(qualifier != "") <em>%qualifier;</em>%end;
    %sp;%surname;
    %if;(alias != "") <em>(%alias;)</em>%end;
  %end;
  %if;(evar.t = "D") [up to] %pvar.1;%end;
</h1>

%if;(evar.cgl != "on")
  <table style="float:%right;"><tr><td>
    %if;(referer != "")
      <a href="%referer;"><img
       src="%image_prefix;/left.jpg"%wid_hei;left.jpg; alt="&lt;&lt;"%/></a>
    %end;
    <a href="%prefix;"><img%sp;
    src="%image_prefix;/up.jpg"%wid_hei;up.jpg; alt="^^"%/></a>
  </td></tr></table>
%end;

%define;tothegen(xx)
  [*to the %s generation:::xx]%nn;
%end;

%define;togen(xx)
  %if;(evar.xx = 1)[*specify::generation/generations]0%nn;
  %elseif;(evar.xx = 2)[*to the parents]%nn;
  %elseif;(evar.xx = 3)[*to the grandparents]%nn;
  %elseif;(evar.xx = 4)[*to the great-grandparents]%nn;
  %else;
    %apply;tothegen%with;
      %apply;nth([nth (generation)], evar.xx)
    %end;
  %end;
%end;

%define;ancestors(xx, nnn)
  %if;(xx.has_parents and nnn > 1)
    <ul>
    <li style="list-style-type:square"><a href="%prefix;
    %xx.father.access;">%xx.father;</a>%nn;
    %if;(xx.father.has_nobility_titles),%sp;
      <em>%xx.father.nobility_title;</em>%end;
    %xx.father.dates;%nl;
    %apply;ancestors("xx.father", nnn - 1)</li>
    <li style="list-style-type:circle"><a href="%prefix;
    %xx.mother.access;">%xx.mother;</a>%nn;
    %if;(xx.mother.has_nobility_titles),%sp;
      <em>%xx.mother.nobility_title;</em>%end;
    %xx.mother.dates;%nl;
    %apply;ancestors("xx.mother", nnn - 1)</li>
    </ul>
  %end;
%end;

%define;horizontally(pp, xx, ss1, ss2, ss3)
  %if;(xx > 0)
    %if;(pp.has_parents)
      %apply;horizontally%with;
        pp.father%nn;
      %and;
        %expr(xx - 1)
      %and;
        ss1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%nn;
      %and;
        ss1&nbsp;+--&nbsp;%nn;
      %and;
        ss1&nbsp;|&nbsp;&nbsp;&nbsp;%nn;
      %end;
    %end;
    <tt>ss2</tt><a href="%prefix;%pp.access;">%pp;</a>%nn;
    %if;(pp.has_nobility_titles), <em>%pp.nobility_title;</em>%end;
    %pp.dates;<br%/>
    %if;(pp.has_parents)
      %apply;horizontally%with;
        pp.mother%nn;
      %and;
        %expr(xx - 1)
      %and;
        ss3&nbsp;|&nbsp;&nbsp;&nbsp;%nn;
      %and;
        ss3&nbsp;+--&nbsp;%nn;
      %and;
        ss3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%nn;
      %end;
    %end;
  %end;
%end;

%if;(evar.t = "L")
  %( by list %)
  <p>
  %apply;togen("v").
  </p>
  %apply;ancestors("self", evar.v)
%elseif;(evar.t = "H")
  %( horizontally %)
  <p>
  %apply;togen("v").
  </p>
  <table><tr><td style="white-space:nowrap">
  %apply;horizontally(
    "self", evar.v, "&nbsp;&nbsp;&nbsp;", "--&nbsp;", "&nbsp;&nbsp;&nbsp;")
  </tr></tr></table>
  </p>
%end;

<div>
<a href="%prefix;"><img src="%image_prefix;/gwlogo.png"
 alt="..." width="64" height="72" style="border:0;float:%right;"%/></a>
<br%/>
</div>
%copyright;
%base_trailer;
</body>
</html>
