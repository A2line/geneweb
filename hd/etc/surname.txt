%doctype;
<html>
<head>
  <!-- $Id: surname.txt,v 1.3 2005-08-25 02:16:33 ddr Exp $ -->
  <!-- Copyright (c) 1998-2005 INRIA -->
  <title>[surname/surnames]0: %surname;</title>
  <meta name="ROBOTS" content="NONE"%/>
  <meta http-equiv="Content-Type" content="text/html; charset=%charset;"%/>
  <meta http-equiv="Content-Style-Type" content="text/css"%/>
  <style type="text/css"><!--
    .highlight { color: %highlight;; font-weight: bold }
    hr { border: 0; margin: 0; border-bottom: 1px solid }
    a.date { text-decoration: none; color: black }
  --></style>
%base_header;
</head>
<body%body_prop;>
%message_to_wizard;

%if;not cancel_links;
  <table style="float:%right;"><tr><td>
    %if;(referer != "")
      <a href="%referer;"><img
       src="%image_prefix;/left.jpg"%wid_hei;left.jpg; alt="&lt;&lt;"%/></a>
    %end;
    <a href="%prefix;"><img%sp;
    src="%image_prefix;/up.jpg"%wid_hei;up.jpg; alt="^^"%/></a>
  </td></tr></table>
%end;

%define;branch(lev, ppp)
  ...branch...(to be implemented)<br%/>
%end;

%if;(evar.o = "i")
  %( print alphabetically %)
  alpha
%else;
  %( print by branch %)
  <h1 style="text-align:center" class="highlight">%nn;
    %if;(number_of_possible_surnames = 1)%surname;
    %else;
      %foreach;possible_surname;
        %if;(not is_first), %end;
        %if;(evar.cgl = "on")%possible_surname;
        %else;
          <a href="%prefix;m=N;v=%possible_surname.key;;t=A">%possible_surname;
          </a>%nn;
        %end;
      %end;
    %end;
  </h1>
  %if;(evar.br = "")
    <p>
      <i style="font-size:80%%">%nn;
      [*click] <a href="%prefix;m=N;o=i;v=%surname.key;;t=A">[here]</a>%sp;
      [for the first names by alphabetic order].</i>
    </p>
  %end;
  <div style="white-space:nowrap">
    %if;(number_of_branches > 1 and evar.br = "")
      [*number of branches]: %number_of_branches;
      <dl>
    %end;
    %foreach;branch;
      %if;(number_of_branches > 1 and evar.br = "")
        <dt><a href="%prefix;m=N;v=%surname.key;;br=%cnt;">%cnt;.</a></dt>
      %end;
      %if;(evar.br = "" or evar.br = cnt)
        %if;ancestor.has_parents;
          <dd>
          %if;(ancestor.father.is_restricted or evar.cgl = "on")&lt;&lt;%sp;
          %else;
            <a href="%prefix;%ancestor.father.access;">&lt;&lt;</a>
          %end;
          &amp;
          %if;(ancestor.mother.is_restricted or evar.cgl = "on")&lt;&lt;%nl;
          %else;
            <a href="%prefix;%ancestor.mother.access;">&lt;&lt;</a>
          %end;
          <dl>
            %apply;branch(1, person(ancestor))%nl;
          </dl>
          </dd>
        %elseif;(number_of_branches > 1 and evar.br = "")
          %apply;branch(1, person(ancestor))%nl;
        %else;
          %apply;branch(0, person(ancestor))%nl;
        %end;
      %end;
    %end;
    %if;(number_of_branches > 1 and evar.br = "")</dl>%nl;%end;
  </div>
%end;

<div>
<a href="%prefix;"><img src="%image_prefix;/gwlogo.png"
 alt="..." width="64" height="72" style="border:0;float:%right;"%/></a>
<br%/>
</div>
%copyright;
%base_trailer;
</body>
</html>
